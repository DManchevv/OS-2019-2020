s.init(0)

process P             process Q             process R
  p_1                    q_1                   r_1
  p_2                  s.wait()              s.wait()
s.signal()               q_2                   r_2
  p_3                 s.signal()             s.signal()
                         q_3                   r_3
